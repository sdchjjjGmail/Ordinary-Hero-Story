# Ordinary Hero Story

주제: 평범한 용사가 평범하게 몬스터를 사냥하고 보스까지 처치하는 평범한 RPG 게임

주 활동: 마을과 필드를 순환하며 몬스터를 사냥

맵 구조
------------------------------------------------------------------------------------------------------------
 - 마을 : 메뉴에 따른 키 입력을 받아 해당하는 기능 실행(스테이터스 확인, 필드 이동 등)
   1. 스테이터스
   2. 스탯 확인
   3. 장비 확인
   4. 대장간 방문 : 무기와 방어구를 강화할 수 있다.
   5. 물약 상점 방문 : 물약을 구매할 수 있다. 물약은 플레이어 레벨에 따라 진화하는 형태.
   6. 초원으로 이동 : 기본 필드. 초원 늑대 출몰.
   7. 숲으로 이동 : 레벨 10 이상 시 개방되는 필드. 숲 고블린 출현.
   8. 늪으로 이동 : 레벨 20 이상 시 개방되는 필드. 늪 리자드맨 출현.
   9. 보스 필드 : 레벨 30 이상 시 개방되는 필드. 오크 킹 출현.
   10. 게임 종료(0 키 입력)
       
 - 필드 : 필드 입장 시 d/D 키를 입력받아 프로세스를 진행 시키는 형식
   - 50% 확률로 몬스터를 조우
   - 배틀 시 Actor의 속도 능력에 따라 턴 순환.
   -  마찬가지로 메뉴에 해당하는 키를 입력받아 플레이어 행동 관리
      1. 스테이터스
      2. 장비
      3. 스탯 확인
      4. 포션 사용
      5. 마을로 이동
      6. 게임 종료(0 키 입력)

게임 구조
------------------------------------------------------------------------------------------------------------
캐릭터를 강화하여 새로운 맵을 개방하고, 보스에 도전한다.
 
 - 엔딩 조건: 보스 사냥(엔딩이 진행되어도 마을로 돌아가며 게임은 강제 종료하지 않는다.)
 - 캐릭터 강화 방식
    - 스탯 분배 : 레벨업 시 받는 스탯 포인트를 분배하여 능력치 강화
    - 장비 강화 : 대장간을 통해 무기/방어구를 강화하여 캐릭터 능력치 강화
    - 아티팩트 : 10/20/30 레벨 달성 시 받는 아티팩트를 통해 캐릭터 능력치 강화
    - 치트모드(테스트용) : 마을에서 157 입력 시 치트모드가 활성화 되며 캐릭터 능력치 대폭 강화(이전 모드로 돌아가는 기능은 없음. 모든 능력치가 백업 없이 덮어 씌워지기 때문)
     
클래스 구조
------------------------------------------------------------------------------------------------------------
GameManager 제외한 모든 클래스의 멤버 변수는 private으로 설정. GameManager에서의 무분별한 변수 접근을 방지하기 위함.
해당하는 멤버 클래스의 함수를 통해서만 상위 클래스에 접근한다.
(예: GameManager->PlayerManager()->GetCurrentPlayer() => Player* 반환)

 - Actor
   - 모든 캐릭터의 부모 클래스
   - Player와 Monster가 공통으로 가지고 있는 능력치를 멤버 변수로 가지고 있다.
   - 생성 시 기본 능력치는 모두 동일하지만 이후 각종 요소들로 차별을 둔다.
 - Player : Actor, ICanBattle
   - Main Player 클래스. 유저의 캐릭터가 담기는 클래스이다.
   - Player 클래스는 공격력, 방어력 등 플레이어의 수치와 관련된 변수만 관리한다.
   - Player와 상호작용하는 동작은 별도의 PlayerManager를 통해 관리한다.
   - ICanBattle 인터페이스를 통해 전투를 진행한다.
 - Monster : Actor, ICanBattle
   - 몬스터 클래스
   - 배틀 발생 시 필드에 종류 따라 몬스터가 생성되고, 배틀 종료 시 해제된다.
   - Player와 마차가지로 ICanBattle 인터페이스를 통해 전투를 진행한다.
 - GameManager
    - 전반적인 게임의 흐름을 관리하는 클래스.
    - 게임을 진행하는 동안 유지되어야 하는 클래스들을 프로그램 시작 시 동적으로 할당하여 가지고 있다.
    - 멤버 클래스 변수 : MapManager, PlayerManager, Potion, MonsterManager, UiManager
    - 게임이 진행되는 동안 각 멤버 클래스들을 통해 그 하위의 클래스들(Player, Monster 등)을 관리한다.
 - PlayerManager
    - 플레이어의 상태를 관리하는 클래스
    - Player에 착용되는 장비, 스탯 적용 등 플레이어 관련 이벤트에 따른 로직은 이곳에서 처리하고 Player에 수치만 적용되도록 한다.
    - 멤버 변수는 Player class만 가지고 있으며 GameManager를 통해 자신이 생성되면서 Player를 동적으로 할당하여 가지고 있는다.
    - GameManager에서 Player를 필요로 할 시 PlayerManager를 통해 접근할 수 있도록 한다.
 - MonsterManager
    - 몬스터의 생성을 관리하는 Manager. Monster Factory이다.
    - 전투 발생 시 플레이어와 필드 정보를 전달받아 적합한 몬스터를 생성하여 반환해 준다.(return Monster*)
    - 기본적으로 플레이어와 근접한 레벨로 생성이 되며, 그에 따른 능력치를 부여받는다.
    - 몬스터마다 스탯 보너스를 부여받는다.
       - 초원 늑대 : 속도
       - 숲 고블린 : 크리티컬 확률 / 드랍 골드
       - 리자드맨 : 체력
       - 오크 킹(보스) : 전체적인 능력치 추가 보정
       - 몬스터의 수가 많지 않아 개별 개체당 클래스는 작성하지 않고 Manager내에서 모두 생성하여 반환한다.
 - UiManager
    - Ui 데이터를 가지고 있고, 상황에 따라 필요한 Ui를 보여주는 클래스.
    - 플레이의 흐름에 따라 변화하는 텍스트(사실상 UI) 묶음을 이 클래스에 함수단위(ShowVilageUi, ShowBattleField 등)로 보관해 놓고 상황에 맞춰 호출하여 사용한다.
 - MapManager
    - 현재 플레이어가 속해있는 맵 상태를 저장해 놓는 클래스
 - Weapon : IUpgradable
    - 플레이어가 사용하는 무기 클래스
    - IUpgradable 인터페이스를 통해 강화 실행.
    - 해당 클래스에 접근하기 위해서는 PlayerManager->Player를 통해 접근한다.
 - Armor : IUpgradable
    - 플레이어가 사용하는 방어구 클래스
    - IUpgradable 인터페이스를 통해 강화 실행.
    - 해당 클래스에 접근하기 위해서는 PlayerManager->Player를 통해 접근한다.
 - Potion
    - 플레이어가 사용하는 포션 클래스.
    - 게임 시작 시 GameMaanger에 의해 동적으로 생성되며, 소모품이지만 게임 내내 해제되지 않고 GameManager에 존재한다.
    - Player의 PotionCount를 통해 해당 포션의 사용을 통제하며, Player의 레벨에 따라 포션의 능력치, 가격도 증가한다.
    - 소모품처럼 보이도록 되어있지만 실질적으로는 플레이어의 장비와 같은 형태이다.
    - 포션의 구매/사용에 따라 실시간으로 할당과 해제를 반복하기 보다 관리가 용이할 것 같아 위의 방식 채택.  
 - Artifact
    - 플레이어의 모든 능력치를 올려주는 아티팩트 클래스.
    - Player클래스에서 vector를 통해 관리되며 현재는 최대 3개까지 얻을 수 있도록 설계
    - 레벨이 10/20/30이 될 때마다 아티팩트를 받는다.
 - Stats
    - 플레이어의 스탯 종류가 담긴 enum 클래스.
    - 현재는 스탯을 올릴 시 Stat Type을 구별하기 위한 용도로만 사용되고 있다.
 - Fields
    - 필드 종류가 들어있는 enum 클래스.
    - 마을이나 필드 입장 시 관련 필드가 할당되고, 필드 별 몬스터를 생성할 시 해당 enum을 플래그로 사용 중.
 - ICanBattle
    - 전투 관련 인터페이스.
    - Attack을 통해 공격
    - TakeDamage를 통해 데미지 적용
 - IUpgradable
    - 강화 관련 인터페이스.
    - Upgrade를 통해 장비의 능력치, 강화 수치, 강화 비용을 세팅한다.
 - GameTester
    - 게임 테스트 관련 클래스
    - 임의 수치 증가, 아티팩트 획득, Print 등 개발 진행 시 필요했던 기능 Test 함수들을 모아놓은 클래스.


전투 방식
------------------------------------------------------------------------------------------------------------
턴제
 - 스피드를 통한 턴 할당으로 공격 기회를 잡는다.
 - 기본적으로 스피드가 높은 액터가 선턴. 3의 배수 턴에는 스피드가 낮은 액터가 공격 기회를 잡는다.
 - 피해량은 공격력, 방어력, 크리티컬 등을 통해 산출된다.(AttackPoint - DefencePoint). Critical은 확률을 계산해 true일 경우 AttackPoint x2적용
 - 승리, 패배, 도망 시 전투 종료 가능.
 - 승리, 도망 시 필드 유지.
 - 패배 시 최대 체력의 반이 회복된 상태로 마을로 돌아간다.



   
